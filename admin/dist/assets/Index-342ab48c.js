import{r as d,g as x,i as k,a as w,o as r,c as l,e as _,w as m,b as a,j as y,v as T,F as h,d as b,u as E,f,t as i}from"./index-628a6fd2.js";import{_ as N}from"./index-b38039ec.js";const j=a("h1",null,"Страницы цитат",-1),C={style:{margin:"10px 0 20px 0"}},P={id:"pages"},S={class:"page"},U={__name:"Index",setup(V){const v="https://bibleox.com",o=d("");let c=d({});const g=N.debounce(u,300);function u(){const p="/ru/api/pages/list",s={session_key:"test",term:o.value},t=v+p+"?"+new URLSearchParams(s),e={Accept:"application/json","Content-Type":"application/json","X-API-TOKEN":x("api_token")};console.log("GET: "+t),fetch(t,{headers:e}).then(n=>n.json()).then(n=>c.value=n.items)}return u(),k(function(){o.value.length>2&&g()}),(p,s)=>{const t=w("router-link");return r(),l(h,null,[j,_(t,{to:{name:"NewPage"}},{default:m(()=>[f(" ＋ Новая страница ")]),_:1}),a("div",C,[y(a("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.value=e),type:"text",placeholder:"Фильтр",autofocus:""},null,512),[[T,o.value]])]),(r(!0),l(h,null,b(E(c),e=>(r(),l("div",P,[a("div",S,[_(t,{to:{name:"EditPage",params:{id:e.id}}},{default:m(()=>[a("b",null,i(e.title),1)]),_:2},1032,["to"]),f(" | "+i(e.lang)+" | "+i(e.updated_at_word),1)])]))),256))],64)}}};export{U as default};
