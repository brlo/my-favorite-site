<nav id="menu-books">
  <div class='small hint' style='margin-top: 0;'>–í–µ—Ç—Ö–∏–π –ó–∞–≤–µ—Ç</div>
  <a class="<%= @book_code == 'gen' ? 'selected ' : nil %>kanon" href="/gen/1" title="–ü—è—Ç–∏–∫–Ω–∏–∂–∏–µ –ú–æ–∏—Å–µ—è">–ë—ã—Ç–∏–µ</a>
  <a class="<%= @book_code == 'ish' ? 'selected ' : nil %>kanon" href="/ish/1" title="–ü—è—Ç–∏–∫–Ω–∏–∂–∏–µ –ú–æ–∏—Å–µ—è">–ò—Å—Ö–æ–¥</a>
  <a class="<%= @book_code == 'lev' ? 'selected ' : nil %>kanon" href="/lev/1" title="–ü—è—Ç–∏–∫–Ω–∏–∂–∏–µ –ú–æ–∏—Å–µ—è">–õ–µ–≤–∏—Ç</a>
  <a class="<%= @book_code == 'chis' ? 'selected ' : nil %>kanon" href="/chis/1" title="–ü—è—Ç–∏–∫–Ω–∏–∂–∏–µ –ú–æ–∏—Å–µ—è">–ß–∏—Å–ª–∞</a>
  <a class="<%= @book_code == 'vtor' ? 'selected ' : nil %>kanon" href="/vtor/1" title="–ü—è—Ç–∏–∫–Ω–∏–∂–∏–µ –ú–æ–∏—Å–µ—è">–í—Ç–æ—Ä–æ–∑–∞–∫–æ–Ω–∏–µ</a>
  <a class="<%= @book_code == 'nav' ? 'selected ' : nil %>kanon" href="/nav/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–ò–∏—Å—É—Å –ù–∞–≤–∏–Ω</a>
  <a class="<%= @book_code == 'sud' ? 'selected ' : nil %>kanon" href="/sud/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–°—É–¥—å–∏</a>
  <a class="<%= @book_code == 'ruf' ? 'selected ' : nil %>kanon" href="/ruf/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–†—É—Ñ—å</a>
  <a class="<%= @book_code == '1ts' ? 'selected ' : nil %>kanon" href="/1ts/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">1-—è –¶–∞—Ä—Å—Ç–≤</a>
  <a class="<%= @book_code == '2ts' ? 'selected ' : nil %>kanon" href="/2ts/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">2-—è –¶–∞—Ä—Å—Ç–≤</a>
  <a class="<%= @book_code == '3ts' ? 'selected ' : nil %>kanon" href="/3ts/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">3-—è –¶–∞—Ä—Å—Ç–≤</a>
  <a class="<%= @book_code == '4ts' ? 'selected ' : nil %>kanon" href="/4ts/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">4-—è –¶–∞—Ä—Å—Ç–≤</a>
  <a class="<%= @book_code == '1par' ? 'selected ' : nil %>kanon" href="/1par/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">1-—è –ü–∞—Ä–∞–ª–∏–ø–æ–º–µ–Ω–æ–Ω</a>
  <a class="<%= @book_code == '2par' ? 'selected ' : nil %>kanon" href="/2par/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">2-—è –ü–∞—Ä–∞–ª–∏–ø–æ–º–µ–Ω–æ–Ω</a>
  <a class="<%= @book_code == 'ezd' ? 'selected ' : nil %>kanon" href="/ezd/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–ï–∑–¥—Ä–∞</a>
  <a class="<%= @book_code == 'neem' ? 'selected ' : nil %>kanon" href="/neem/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–ù–µ–µ–º–∏—è</a>
  <a class="<%= @book_code == '2ezd' ? 'selected ' : nil %>non-kanon" href="/2ezd/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">2-—è –ï–∑–¥—Ä—ã</a>
  <a class="<%= @book_code == 'tov' ? 'selected ' : nil %>non-kanon" href="/tov/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–¢–æ–≤–∏—Ç</a>
  <a class="<%= @book_code == 'iudf' ? 'selected ' : nil %>non-kanon" href="/iudf/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–ò—É–¥–∏—Ñ—å</a>
  <a class="<%= @book_code == 'esf' ? 'selected ' : nil %>kanon" href="/esf/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">–ï—Å—Ñ–∏—Ä—å</a>
  <a class="<%= @book_code == 'pr' ? 'selected ' : nil %>kanon" href="/pr/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–ü—Ä–∏—Ç—á–∏</a>
  <a class="<%= @book_code == 'ekl' ? 'selected ' : nil %>kanon" href="/ekl/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–ï–∫–∫–ª–µ—Å–∏–∞—Å—Ç</a>
  <a class="<%= @book_code == 'pp' ? 'selected ' : nil %>kanon" href="/pp/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–ü–µ—Å–Ω—è –ü–µ—Å–Ω–µ–π</a>
  <a class="<%= @book_code == 'prs' ? 'selected ' : nil %>non-kanon" href="/prs/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–ü—Ä–µ–º—É–¥—Ä–æ—Å—Ç—å –°–æ–ª–æ–º–æ–Ω–∞</a>
  <a class="<%= @book_code == 'prsir' ? 'selected ' : nil %>non-kanon" href="/prsir/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–°–∏—Ä–∞—Ö</a>
  <a class="<%= @book_code == 'iov' ? 'selected ' : nil %>kanon" href="/iov/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–ò–æ–≤</a>
  <a class="<%= @book_code == 'is' ? 'selected ' : nil %>kanon" href="/is/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ò—Å–∞–∏—è</a>
  <a class="<%= @book_code == 'ier' ? 'selected ' : nil %>kanon" href="/ier/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ò–µ—Ä–µ–º–∏—è</a>
  <a class="<%= @book_code == 'pier' ? 'selected ' : nil %>kanon" href="/pier/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ü–ª–∞—á –ò–µ—Ä–µ–º–∏–∏</a>
  <a class="<%= @book_code == 'pos' ? 'selected ' : nil %>non-kanon" href="/pos/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ü–æ—Å–ª–∞–Ω–∏–µ –ò–µ—Ä–µ–º–∏–∏</a>
  <a class="<%= @book_code == 'var' ? 'selected ' : nil %>non-kanon" href="/var/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–í–∞—Ä—É—Ö</a>
  <a class="<%= @book_code == 'iez' ? 'selected ' : nil %>kanon" href="/iez/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ò–µ–∑–µ–∫–∏–∏–ª—å</a>
  <a class="<%= @book_code == 'dan' ? 'selected ' : nil %>kanon" href="/dan/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–î–∞–Ω–∏–∏–ª</a>
  <a class="<%= @book_code == 'os' ? 'selected ' : nil %>kanon" href="/os/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–û—Å–∏—è</a>
  <a class="<%= @book_code == 'iol' ? 'selected ' : nil %>kanon" href="/iol/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ò–æ–∏–ª—å</a>
  <a class="<%= @book_code == 'am' ? 'selected ' : nil %>kanon" href="/am/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ê–º–æ—Å</a>
  <a class="<%= @book_code == 'av' ? 'selected ' : nil %>kanon" href="/av/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ê–≤–¥–∏–π</a>
  <a class="<%= @book_code == 'ion' ? 'selected ' : nil %>kanon" href="/ion/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ò–æ–Ω–∞</a>
  <a class="<%= @book_code == 'mih' ? 'selected ' : nil %>kanon" href="/mih/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ú–∏—Ö–µ–π</a>
  <a class="<%= @book_code == 'naum' ? 'selected ' : nil %>kanon" href="/naum/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ù–∞—É–º</a>
  <a class="<%= @book_code == 'avm' ? 'selected ' : nil %>kanon" href="/avm/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ê–≤–≤–∞–∫—É–º</a>
  <a class="<%= @book_code == 'sof' ? 'selected ' : nil %>kanon" href="/sof/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–°–æ—Ñ–æ–Ω–∏—è</a>
  <a class="<%= @book_code == 'ag' ? 'selected ' : nil %>kanon" href="/ag/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ê–≥–≥–µ–π</a>
  <a class="<%= @book_code == 'zah' ? 'selected ' : nil %>kanon" href="/zah/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ó–∞—Ö–∞—Ä–∏—è</a>
  <a class="<%= @book_code == 'mal' ? 'selected ' : nil %>kanon" href="/mal/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">–ú–∞–ª–∞—Ö–∏—è</a>
  <a class="<%= @book_code == '1mak' ? 'selected ' : nil %>non-kanon" href="/1mak/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">1-—è –ú–∞–∫–∫–∞–≤–µ–π—Å–∫–∞—è</a>
  <a class="<%= @book_code == '2mak' ? 'selected ' : nil %>non-kanon" href="/2mak/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">2-—è –ú–∞–∫–∫–∞–≤–µ–π—Å–∫–∞—è</a>
  <a class="<%= @book_code == '3mak' ? 'selected ' : nil %>non-kanon" href="/3mak/1" title="–ö–Ω–∏–≥–∏ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ">3-—è –ú–∞–∫–∫–∞–≤–µ–π—Å–∫–∞—è</a>
  <a class="<%= @book_code == '3ezd' ? 'selected ' : nil %>non-kanon" href="/3ezd/1" title="–ö–Ω–∏–≥–∏ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∏–µ">3-—è –ï–∑–¥—Ä—ã</a>
  <a class="<%= @book_code == 'ps' ? 'selected ' : nil %>kanon" href="/ps/1" title="–ö–Ω–∏–≥–∏ —É—á–∏—Ç–µ–ª—å–Ω—ã–µ">–ü—Å–∞–ª—Ç–∏—Ä—å</a>

  <div class='small hint'>–ù–æ–≤—ã–π –ó–∞–≤–µ—Ç</div>
  <a class="<%= @book_code == 'mf' ? 'selected ' : nil %>kanon" href="/mf/1" title="–ï–≤–∞–Ω–≥–µ–ª–∏–µ">–ï–≤–∞–Ω–≥–µ–ª–∏–µ –æ—Ç –ú–∞—Ç—Ñ–µ—è</a>
  <a class="<%= @book_code == 'mk' ? 'selected ' : nil %>kanon" href="/mk/1" title="–ï–≤–∞–Ω–≥–µ–ª–∏–µ">–û—Ç –ú–∞—Ä–∫–∞</a>
  <a class="<%= @book_code == 'lk' ? 'selected ' : nil %>kanon" href="/lk/1" title="–ï–≤–∞–Ω–≥–µ–ª–∏–µ">–û—Ç –õ—É–∫–∏</a>
  <a class="<%= @book_code == 'in' ? 'selected ' : nil %>kanon" href="/in/1" title="–ï–≤–∞–Ω–≥–µ–ª–∏–µ">–û—Ç –ò–æ–∞–Ω–Ω–∞</a>
  <a class="<%= @book_code == 'act' ? 'selected ' : nil %>kanon" href="/act/1" title="–î–µ—è–Ω–∏—è —Å–≤—è—Ç—ã—Ö –∞–ø–æ—Å—Ç–æ–ª–æ–≤">–î–µ—è–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–æ–≤</a>
  <a class="<%= @book_code == 'iak' ? 'selected ' : nil %>kanon" href="/iak/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">–ü–æ—Å–ª–∞–Ω–∏–µ –ò–∞–∫–æ–≤–∞</a>
  <a class="<%= @book_code == '1pet' ? 'selected ' : nil %>kanon" href="/1pet/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">1-–µ –ü–µ—Ç—Ä–∞</a>
  <a class="<%= @book_code == '2pet' ? 'selected ' : nil %>kanon" href="/2pet/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">2-–µ –ü–µ—Ç—Ä–∞</a>
  <a class="<%= @book_code == '1in' ? 'selected ' : nil %>kanon" href="/1in/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">1-–µ –ò–æ–∞–Ω–Ω–∞</a>
  <a class="<%= @book_code == '2in' ? 'selected ' : nil %>kanon" href="/2in/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">2-–µ –ò–æ–∞–Ω–Ω–∞</a>
  <a class="<%= @book_code == '3in' ? 'selected ' : nil %>kanon" href="/3in/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">3-–µ –ò–æ–∞–Ω–Ω–∞</a>
  <a class="<%= @book_code == 'iud' ? 'selected ' : nil %>kanon" href="/iud/1" title="–°–æ–±–æ—Ä–Ω—ã–µ –ø–æ—Å–ª–∞–Ω–∏—è">–ò—É–¥—ã</a>
  <a class="<%= @book_code == 'rim' ? 'selected ' : nil %>kanon" href="/rim/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –†–∏–º–ª—è–Ω–∞–º</a>
  <a class="<%= @book_code == '1kor' ? 'selected ' : nil %>kanon" href="/1kor/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">1-–µ –ö–æ—Ä–∏–Ω—Ñ—è–Ω–∞–º</a>
  <a class="<%= @book_code == '2kor' ? 'selected ' : nil %>kanon" href="/2kor/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">2-–µ –ö–æ—Ä–∏–Ω—Ñ—è–Ω–∞–º</a>
  <a class="<%= @book_code == 'gal' ? 'selected ' : nil %>kanon" href="/gal/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –ì–∞–ª–∞—Ç–∞–º</a>
  <a class="<%= @book_code == 'ef' ? 'selected ' : nil %>kanon" href="/ef/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –ï—Ñ–µ—Å—è–Ω–∞–º</a>
  <a class="<%= @book_code == 'fil' ? 'selected ' : nil %>kanon" href="/fil/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –§–∏–ª–∏–ø–ø–∏–π—Ü–∞–º</a>
  <a class="<%= @book_code == 'kol' ? 'selected ' : nil %>kanon" href="/kol/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –ö–æ–ª–æ—Å—è–Ω–∞–º</a>
  <a class="<%= @book_code == '1sol' ? 'selected ' : nil %>kanon" href="/1sol/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">1-–µ –°–æ–ª—É–Ω—è–Ω–∞–º</a>
  <a class="<%= @book_code == '2sol' ? 'selected ' : nil %>kanon" href="/2sol/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">2-–µ –°–æ–ª—É–Ω—è–Ω–∞–º</a>
  <a class="<%= @book_code == '1tim' ? 'selected ' : nil %>kanon" href="/1tim/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">1-–µ –¢–∏–º–æ—Ñ–µ—é</a>
  <a class="<%= @book_code == '2tim' ? 'selected ' : nil %>kanon" href="/2tim/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">2-–µ –¢–∏–º–æ—Ñ–µ—é</a>
  <a class="<%= @book_code == 'tit' ? 'selected ' : nil %>kanon" href="/tit/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –¢–∏—Ç—É</a>
  <a class="<%= @book_code == 'fm' ? 'selected ' : nil %>kanon" href="/fm/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –§–∏–ª–∏–º–æ–Ω—É</a>
  <a class="<%= @book_code == 'evr' ? 'selected ' : nil %>kanon" href="/evr/1" title="–ü–æ—Å–ª–∞–Ω–∏—è –∞–ø–æ—Å—Ç–æ–ª–∞ –ü–∞–≤–ª–∞">–ö –ï–≤—Ä–µ—è–º</a>
  <a class="<%= @book_code == 'otkr' ? 'selected ' : nil %>kanon" href="/otkr/1" title="–ö–Ω–∏–≥–∞ –ø—Ä–æ—Ä–æ—á–µ—Å–∫–∞—è">–û—Ç–∫—Ä–æ–≤–µ–Ω–∏–µ</a>
</nav>

<div class='small hint'>–ì–ª–∞–≤—ã</div>
<nav id='menu-chapters'>
  <% (1..::BOOKS[@book_code][:chapters]).each do |i| %>
    <% classes = @chapter == i ? 'selected' : '' %>
    <a class="<%= classes %>" href="/<%= @book_code %>/<%= i %>">
      <%= i %>
    </a>
  <% end %>
</nav>

<div class="title" id='current-book' data-short-name='<%= @book_name%>' data-chapter='<%= @chapter %>'>
  <%= @book_name %>. <%= I18n.t('chapter') %> <%= @chapter %> <span id='copy-link-btn' onclick='copySelectedTextLink()'>üîñ</span>
</div>

<div class="verses" onclick="saveSelectedTextLink()">
  <ol>
  <% @verses.each do |v| %>
    <li><span class="line" id="line-<%= v.line %>" data-line="<%= "#{v.line}" %>"><%= v.text %></span></li>
  <% end %>
  </ol>
</div>

<script>
  const params = new Proxy(new URLSearchParams(window.location.search), {
    get: (searchParams, prop) => searchParams.get(prop),
  });

  const highlightLine = function(lineInt) {
    el = document.getElementById('line-' + lineInt);
    if (el) {
      el.classList.add("line-highlight");
      el.scrollIntoView();
    };
  };

  const highlightLines = function(linesStr) {
    if (linesStr == null) return;

    lines = linesStr.split(',').slice(0, 8);

    lines.forEach(function(line) {
      line = line.split('-');
      if (line.length == 1) {

        highlightLine(line[0]);

      } else if (line.length == 2) {

        let start = line[0];
        let end = line[1];

        if (start > 300) return;
        if (end > 300) return;

        let seq = [];
        for (var i = start; i <= end; i++) {
          seq.push(i);
        };

        seq.forEach(function(l) {
          highlightLine(l);
        });

      };
    });
  }

  highlightLines(params.lines);
</script>
